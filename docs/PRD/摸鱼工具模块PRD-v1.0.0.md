# 摸鱼工具模块 PRD v1.0.0

## 📋 项目概述

### 🎯 项目背景
为了提升程序员的工作乐趣和信息获取效率，需要建立一个轻松有趣的摸鱼工具集合。该模块整合了程序员在工作间隙经常查看的热点信息，通过定时获取和缓存机制，提供快速、实时的信息浏览服务。

### 💡 核心价值
- **信息聚合**: 集成各大平台热榜，一站式获取热点信息
- **实时更新**: 定时刷新数据，保证信息时效性  
- **缓存优化**: Redis存储提升访问速度
- **工作调剂**: 为紧张的开发工作提供轻松的信息浏览体验
- **收入可视化**: 实时计算工作收入，提升工作积极性和成就感

## 🚀 功能需求

### 1. 今日热榜 (Hot Topics)

#### 1.1 数据获取
- **API接口**: 调用 http://113.44.190.45:9996/api 获取热榜数据
- **定时任务**: 每15分钟自动获取一次最新数据
- **数据覆盖**: 支持27个平台热榜，包括微博、知乎、抖音等主流平台
- **分类展示**: 按社交媒体、知识社区、新闻资讯、科技数码等分类显示

#### 1.2 数据存储
- **Redis缓存**: 将获取的热榜数据存储到Redis中
- **键名规范**: 使用 `hot_topics:latest` 作为主键
- **过期策略**: 设置16分钟过期时间，确保数据及时更新
- **备份机制**: 保留上一次数据作为降级方案

#### 1.3 前端展示
- **卡片布局**: 每个平台热榜使用独立卡片展示
- **实时刷新**: 前端每15分钟自动刷新数据
- **分类筛选**: 支持按平台类别筛选热榜内容
- **快速访问**: 点击热榜条目直接跳转到原文

### 2. 打工人时薪计算 (Hourly Rate Calculator)

#### 2.1 时薪计算器
- **参数输入**: 月薪、工作天数、每日工作时长
- **实时计算**: 显示当前时薪、已工作时长、今日已赚金额
- **数据持久**: 用户薪资配置本地存储
- **激励显示**: 工作进度条和收入可视化展示

#### 2.2 收入统计
- **今日收入**: 根据工作时长实时计算当日收入
- **本周统计**: 累计本周工作时长和总收入
- **月度对比**: 预计月收入与实际工作时长对比

## 🔧 技术实现方案

### 1. 后端技术栈
- **定时任务**: 使用Spring Boot的@Scheduled注解
- **HTTP客户端**: 使用RestTemplate调用外部API
- **缓存存储**: Redis存储热榜数据
- **异常处理**: 网络异常时使用缓存数据降级

### 2. 数据流程
1. 定时任务每15分钟执行一次
2. 调用外部API获取最新热榜数据
3. 数据处理和格式化
4. 存储到Redis并设置过期时间
5. 前端通过接口获取缓存数据

### 3. 性能优化
- **异步处理**: 定时任务异步执行，不影响主业务
- **连接池**: 使用连接池优化HTTP请求性能
- **数据压缩**: 对存储数据进行压缩减少内存占用

## 📱 用户体验流程

### 1. 今日热榜使用流程
1. 用户点击摸鱼工具菜单
2. 进入今日热榜页面
3. 系统从Redis获取最新热榜数据
4. 按分类展示各平台热榜内容
5. 用户点击感兴趣的热榜条目查看详情

### 2. 打工人时薪计算使用流程
1. 用户进入时薪计算器页面
2. 首次使用配置月薪和工作参数
3. 系统实时计算并显示当前收入状态
4. 查看今日/本周收入统计和工作进度

## ✅ 实现范围

### 第一期功能
- ✅ **热榜数据获取**: 每15分钟调用API获取热榜数据
- ✅ **Redis缓存存储**: 将数据存储到Redis提升访问速度  
- ✅ **热榜前端展示**: 简洁的热榜列表展示界面
- ✅ **分类筛选**: 支持按平台类型筛选热榜内容

### 第二期功能  
- 🔲 **时薪计算器**: 支持月薪参数配置和实时计算
- 🔲 **收入统计**: 今日/本周收入和工作时长统计
- 🔲 **进度可视化**: 工作进度条和收入图表展示
- 🔲 **数据持久化**: 用户配置信息本地存储

### 技术特点
- **轻量实现**: 核心功能简洁高效
- **稳定可靠**: 异常处理和降级机制完善
- **扩展性强**: 架构支持后续功能扩展
